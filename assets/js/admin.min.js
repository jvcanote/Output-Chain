jQuery(document).ready(function(e){function t(){var t=e("input#_registration:checked").size();e(".show_if_registration").hide();t&&e(".show_if_registration").show()}function n(e,t){if("select"==t||"radio"==t||"checkbox"==t){e.closest("tr").find(".field_options textarea").show();e.closest("tr").find(".field_options .email-options").hide()}else if("email"==t){e.closest("tr").find(".field_options textarea").hide();e.closest("tr").find(".field_options .email-options").show()}else{e.closest("tr").find(".field_options textarea").hide();e.closest("tr").find(".field_options .email-options").hide()}}t();e("input#_registration").change(function(){t()});e("#woocommerce-product-data").on("click",".registration_fields a.insert",function(){e(this).closest(".registration_fields").find("tbody").append(e(this).data("row"));return!1});e("#woocommerce-product-data").on("click",".registration_fields a.delete",function(){e(this).closest("tr").remove();return!1});e("#woocommerce-product-data").on("change",".registration_fields .field_type select",function(){var t=e(this).val();n(e(this),t);return!1});e("#registration-email-advanced-toggle").change(function(){var t=e(this).is(":checked");t?e("#registration-email-advanced-options").fadeTo("fast",1):e("#registration-email-advanced-options").fadeTo("fast",.3)});e("#registration-email-products").change(function(){var t=e("#registration-email-products").val(),n=e("#registration-email-advanced-options select.registration-product-field-select").val();e.post(wc_box_office_admin.ajaxurl,{action:"get_registration_field_options",products:t,selected:n,wc_box_office_admin_registration_fields_nonce:wc_box_office_admin.registration_fields_nonce}).done(function(t){if(!t){e("#registration-email-advanced-options select.registration-product-field-select").html('<option value=""></option>');return}e("#registration-email-advanced-options select.registration-product-field-select").empty();e("#registration-email-advanced-options select.registration-product-field-select").html(t);e("#registration-email-advanced-options select.registration-product-field-select").trigger("chosen:updated")})});e(".past-emails").on("click","td a.delete",function(){var t=e(this).attr("rel");if(!t)return!1;var n=window.confirm(wc_box_office_admin.confirm_delete);if(!n)return!1;e.post(wc_box_office_admin.ajaxurl,{action:"delete_registration_email",email_id:t,wc_box_office_admin_delete_email_nonce:wc_box_office_admin.delete_email_nonce});e(this).closest("tr").remove();return!1});e("body.post-type-event_registration .wrap .add-new-h2").remove();e("body.post-type-event_registration_email .wrap .add-new-h2").remove()});